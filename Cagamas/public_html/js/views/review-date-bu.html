<div class="oj-form-layout" id="form-container">
    <div class="page-title">
        <label class="white-color" data-bind="text:header"></label>
    </div>
    <br>
    <div class="page-content oj-form oj-md-labels-inline oj-md-labels-nowrap oj-form-no-dividers oj-lg-form-across
                   oj-sm-odd-cols-12 oj-md-odd-cols-5 oj-lg-odd-cols-2 oj-lg-even-cols-4">  
        <div class="oj-flex" id="pwr-row-1">
            <div class="oj-form-layout" style="width:100%;">
                <div class="page-content oj-flex oj-form-layout oj-sm-only-flex-direction-column oj-lg-flex-items-1">                      
                    <div class="oj-flex-item">
                        <div class="oj-form  oj-sm-odd-cols-12 oj-lg-odd-cols-2 oj-lg-even-cols-10 oj-lg-labels-inline">
                            <div class="oj-flex">
                                <div class="oj-flex-item">
                                    <label for="cpName">Counterparty Name</label>
                                </div>
                                <div class="oj-flex-item">
                                    <input id="cpName" type="text"
                                           data-bind="ojComponent: {component: 'ojInputText', value: 'CIMB Bank',
                                                                    rootAttributes: {
                                                                       style:'max-width:25%'
                                                                    }}">
                                    <button id="buttonCPOpener" 
                                        data-bind="click: openCPPopUp, ojComponent: {
                                            component:'ojButton',
                                            icons: {start:'fa fa-search'}
                                        }"></button>
                                </div>
                            </div>
                            <div class="oj-flex">
                                <div class="oj-flex-item">
                                    <label for="inputcontrol">Purchase Contract Number</label>
                                </div>
                                <div class="oj-flex-item">
                                    <input id="inputcontrol" data-bind="ojComponent: {component: 'ojInputText', value: inputPurchContractNum}"/>
                                </div>
                            </div>
                            <div class="oj-flex">
                                <div class="oj-flex-item">
                                    <label for="date">Review Date</label>
                                </div>
                                <div class="oj-flex-item">
                                    <input id="date"
                                           data-bind="ojComponent: {component: 'ojInputDate', value: startDate, converter: dateConverter}"/>
                                           to
                                    <input id="date"
                                           data-bind="ojComponent: {component: 'ojInputDate', value: endDate, converter: dateConverter}"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <br>
        <div class="oj-flex" id="pwr-row-2">
            <div class="button-wrapper" style="width:70%">
                <button id= "button" class="action-button-h"
                        data-bind="click: onClickSearch, 
                            ojComponent: {component: 'ojButton', label: 'Search', childAttributes:{style:'white-space: normal;'}}">
                </button>
                <button id= "button" class="action-button-h"
                        data-bind="click: onClickReset, 
                            ojComponent: {component: 'ojButton', label: 'Reset', childAttributes:{style:'white-space: normal;'}}">
                </button>
            </div>
        </div>
        <br>
        <div class="oj-flex" id="pwr-row-3">
            <table id="table" summary="Reset" aria-label="Reset"
                   data-bind="ojComponent: {component: 'ojTable', data: datasource, columns:
                    [{headerText: 'Counterparty Name', field: 'CounterpartyName'},
                     {headerText: 'Counterparty Type', field: 'CounterpartyType'},
                     {headerText: 'Purchase Contract Number', field: 'PurchContractNum'},
                     {headerText: 'Asset Type', field: 'AssetType'},
                     {headerText: 'Review Date', field: 'ReviewDate'},
                     {headerText: 'Outstanding Balance', field: 'OutstandingBalance'},
                     {headerText: 'Tenure', field: 'Tenure'},
                     {headerText: 'Indicative Cagarate', field: 'IndicativeCagarate'},            
                     {headerTemplate: 'rollover_hdr', template: 'rollover_item'},                 
                     {headerTemplate: 'action_hdr', template: 'action_item'}],
                     rootAttributes: {'style':'width: 100%;'}}">
            </table>
        </div>
    </div>
    <div class="blank-footer">
    </div>
</div>
<div style="" id="ICRDialog" title="Indicative Caga Rate"
     data-bind="ojComponent: {component: 'ojDialog', initialVisibility: 'hide',  modality: 'modeless',rootAttributes: { style: 'width:900px; height: 400px;'}}">
    <div class="oj-dialog-body">
        <div id="CounterPartyPopUp">
            <div class="oj-flex">
                <div class="page-content oj-form oj-flex oj-sm-odd-cols-12 oj-lg-odd-cols-2 oj-lg-even-cols-10 oj-lg-labels-inline" style="width:100%;">
                    <div class="two-cols">
                        <div class="oj-flex">
                            <div class="oj-flex-item" style="width: 7%;">
                                <label for="PopUp3control">COF</label>
                            </div>
                            <div class="oj-flex-item">
                                <input id="PopUp3control"
                                       data-bind="ojComponent: {component: 'ojInputText', value:'Default from weekly COF', disabled:true}"/>
                            </div>
                        </div>
                        <div class="oj-flex">
                            <div class="oj-flex-item" style="width: 7%;">
                                <label for="PopUp3control">PWR Margin</label>
                            </div>
                            <div class="oj-flex-item">
                                <input id="PopUp3control"
                                       data-bind="ojComponent: {component: 'ojInputText', value:'Calculated Value', disabled:true}"/>
                            </div>
                        </div>
                        <div class="oj-flex">
                            <div class="oj-flex-item" style="width: 7%;">
                                <label for="PopUp3control">Status</label>
                            </div>
                            <div class="oj-flex-item">
                                <input id="PopUp3control"
                                       data-bind="ojComponent: {component: 'ojInputText', value:'Status', disabled:true}"/>
                            </div>
                        </div>
                    </div>
                    <div class="two-cols">
                        <div class="oj-flex">
                            <div class="oj-flex-item">
                                <label for="PopUp3control">BU Margin</label>
                            </div>
                            <div class="oj-flex-item">
                                <input id="PopUp3control"
                                       data-bind="ojComponent: {component: 'ojInputText', value:'', placeholder: '...'}"/>
                            </div>
                        </div>
                        <div class="oj-flex">
                            <div class="oj-flex-item">
                                <label for="PopUp3control">Caga Rate</label>
                            </div>
                            <div class="oj-flex-item">
                                <input id="PopUp3control"
                                       data-bind="ojComponent: {component: 'ojInputText', value:'Calculated value', disabled:true}"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br>
            <div class="oj-flex" style='margin:10px 0 10px auto; width:80%;'>
                <button id="button" style='margin:5px;' class="action-button"
                        data-bind="click: onClickCalculate,
                        ojComponent: {component: 'ojButton', label: 'Calculate' }"></button>
                <button id="button" style='margin:5px;' class="action-button"
                        data-bind="click: onClickSave,
                        ojComponent: {component: 'ojButton', label: 'Save' }"></button>
                <button id="button" style='margin:5px;' class="action-button"
                        data-bind="click: onClickApprove,
                        ojComponent: {component: 'ojButton', label: 'Approvals' }"></button>
            </div>
        </div>
    </div>
</div>


<div style="" id="ICRDialog2" title="Indicative Caga Rate"
     data-bind="ojComponent: {component: 'ojDialog', initialVisibility: 'hide',  modality: 'modeless',rootAttributes: { style: 'width:900px; height: 400px;'}}">
    <div class="oj-dialog-body">
        <div class="oj-flex">
            <table id="table" summary="Reset" aria-label="Reset"
                       data-bind="ojComponent: {component: 'ojTable', data: datasourceICR, columns:
                        [{headerText: 'Year', field: 'Year'},
                         {headerText: 'Tenure', field: 'Tenure'},
                         {headerText: 'Rate Type', field: 'RateType'},
                         {headerText: 'Benchmark', field: 'Benchmark'},
                         {headerText: 'Source', field: 'Source'},
                         {headerText: 'COF', field: 'COF'},
                         {headerText: 'PWR Margin', field: 'PWR'},
                         {headerText: 'BU Margin', field: 'BU'},
                         {headerText: 'Caga Rate', field: 'CagaRate'},
                         {headerText: 'Status', field: 'Status'}
                         ],
                         rootAttributes: {'style':'width: 100%;'}}">
            </table>
        </div>
        <div class="oj-flex oj-form-layout oj-sm-only-flex-direction-column oj-lg-flex-items-1">                      
        <div class="oj-flex">
        <div class="oj-flex-bar ">
            <div class="oj-flex-bar-middle ">
                <div>
                    <button id= "btn_calculate" class="action-button-3"  style="margin-top:10px;" data-bind="ojComponent: { component: 'ojButton', label: 'Calculate' }"></button>
                    <button id= "btn_save"  class="action-button-3" style="margin-top:10px;" data-bind=" ojComponent: { component: 'ojButton', label: 'Save' }"></button>
                    <button id= "btn_approval"  class="action-button-3" style="margin-top:10px;" data-bind=" ojComponent: { component: 'ojButton', label: 'Approval' }"></button>
                </div>
            </div>
          </div>
         </div>
  </div>
    </div>
</div>



<div style="display:none" id="CPDialog" title="Select Counterparty" 
       data-bind="ojComponent:{component: 'ojDialog', initialVisibility: 'hide',  modality: 'modeless',
		  rootAttributes: { style: 'width:900px; height: 500px;'}
		  }">
     <div class="oj-dialog-body">
     <div id="CounterPartyPopUp">
     
  <div class="oj-flex oj-form-layout oj-sm-only-flex-direction-column oj-lg-flex-items-1">                      
    <div class="oj-flex-item">
      <div class="oj-form  oj-sm-odd-cols-12 oj-lg-odd-cols-5 oj-lg-labels-inline">   
        <div class="oj-flex">  
          <div class="oj-flex-item">
            <label for="PopUp1control">Counterparty Code</label>
          </div>
          <div class="oj-flex-item">
            <input id="PopUp1control" 
                   data-bind="ojComponent: {component: 'ojInputText', 
                                            value:''}">
          </div>
        </div>
        <div class="oj-flex">  
          <div class="oj-flex-item">
            <label for="PopUp2control">Counterparty Type</label>
          </div>
          <div class="oj-flex-item">
               <input id="PopUp2control" 
               data-bind="ojComponent: {component: 'ojCombobox', value: selectCurrencyVal, options: counterPartyType, optionChange: currencyOptionChangedHandler }">
          </div>
        </div>
        </div>
    </div>                               
    <div class="oj-flex-item">
      <div class="oj-form oj-sm-odd-cols-12 oj-lg-odd-cols-5 oj-lg-labels-inline"> 
        <div class="oj-flex"> 
          <div class="oj-flex-item">
            <label for="PopUp3control">Counterparty Name</label>
          </div>
          <div class="oj-flex-item">
            <input id="PopUp3control" 
                   data-bind="ojComponent: {component: 'ojInputText', value:''}">
          </div>
        </div>
        </div>
    </div>
    </div>
      <div class="oj-flex oj-lg-flex-items-1 pull-right">                      
          <div class="oj-flex-item">
          <div class="page-button-wrapper">
              <button id= "btn_search" data-bind="ojComponent: { component: 'ojButton', label: 'Search' }"></button>    
              <button id= "btn_reset" data-bind="ojComponent: { component: 'ojButton', label: 'Reset' }"></button>
          </div>
          </div>
</div>

       <table id="table" summary="Counterparty" aria-label="Counterparty"
           data-bind="ojComponent: {component: 'ojTable', data: pagingDatasource, columns:
            [{headerTemplate: 'view_action_hdr', template: 'view_action', style: 'width: 10%;text-align:center;'},
             {headerText: 'Code', field: 'CPCode'},
             {headerText: 'Name', field: 'CPName'},
             {headerText: 'Group', field: 'CPGroup'},
             {headerText: 'Type', field: 'CPType'},
             {headerText: 'Financial Review Group', field: 'FRGroup'}],
             rootAttributes: {'style':'width: 98%;'}}">
    </table>
    <div id="paging" data-bind="ojComponent: {component: 'ojPagingControl', data: pagingDatasource, pageSize: 15}">
    </div>
    </div>
  </div>
</div>
<script type="text/html" id="rollover_hdr">
    <th style="padding-left: 5px; padding-right: 5px;text-align:center;">
        Rollover
    </th>
</script>
<script type="text/html" id="rollover_item">
    <td>
        <select id="selectRollover" data-bind="ojComponent: {component: 'ojSelect', options: $parent.rollover, value: $parent.selectedRollover, placeholder: 'Yes/No'}"></select>
    </td>
</script>
<script type="text/html" id="action_hdr">
    <th style="padding-left: 5px; padding-right: 5px;text-align:center;">
        Action
    </th>
</script>
<script type="text/html" id="action_item">
    <td>
        <button id= "actionBtn"
            data-bind="click: $parent.onClickAction, ojComponent: { component: 'ojButton', label: 'Indicative Caga Rate' }">
        </button>
    </td>
</script>
<script type="text/html" id="document_hdr">
    <th style="padding-left: 5px; padding-right: 5px;text-align:center;">
        View Document
    </th>
</script>
<script type="text/html" id="document_item">
    <td>
        <button id= "viewDocBtn"
            data-bind="click: $parent.onClickViewDocument, ojComponent: { component: 'ojButton', label: 'View' }">
        </button>
    </td>
</script>
<script type="text/html" id="view_action_hdr">
    <th style="padding-left: 5px; padding-right: 5px;text-align:center;">
        Action
    </th>
</script>
<script type="text/html" id="view_action">
    <td>
        <button id= "btn_PI"
            data-bind="click: cpLookUpClick, ojComponent: { component: 'ojButton', label: 'Select' }">
        </button>
    </td>
</script>